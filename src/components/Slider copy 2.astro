---
import decoration from '../assets/decoration.svg';
//import decoration from '../assets/group.png';
const slides = [
  {
    title: "Diseña tu futuro",
    date: "Inicio 20 y 23 de diciembre",
    image: "/temp/slider.png"
  },
  {
    title: "Diseña tu futuro",
    date: "Inicio 15 de enero",
    image: "/temp/slider.png"
  },
  {
    title: "Diseña tu futuro",
    date: "Inicio 5 de marzo",
    image: "/temp/slider.png"
  }
];
---
<div class="relative overflow-hidden">
  <!-- Slides wrapper -->
    <!-- Slides wrapper -->
     <!-- h-[500px] -->
  <div class="relative w-full">
    <div id="slides" class="flex transition-transform duration-700 ease-in-out" style="transform: translateX(0%)">
      {slides.map((slide) => (
        // p-10
        <div class="w-full min-w-full flex-shrink-0 flex items-center justify-between bg-[#f0f9f6] relative">
          <!-- Fondo SVG -->
          <svg class="absolute -z-10 top-0 left-0 w-full h-full" viewBox="0 0 1440 320" preserveAspectRatio="none">
            <path fill="#00c853" fill-opacity="0.25" d="M0,64L48,80C96,96,192,128,288,122.7C384,117,480,75,576,58.7C672,43,768,53,864,64C960,75,1056,85,1152,117.3C1248,149,1344,203,1392,229.3L1440,256L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z" />
          </svg>

          <!-- Contenido -->
          <div class="max-w-lg z-10">
            <h2 class="text-4xl font-bold text-purple-800">{slide.title}</h2>
            <div class="h-1 w-12 bg-green-600 my-4"></div>
            <p class="text-purple-700 mb-4">{slide.date}</p>
            <a href="#" class="inline-block px-6 py-2 bg-purple-700 text-white rounded-full font-semibold hover:bg-purple-800 transition">
              Inscríbete ahora
            </a>
          </div>

          <!-- Imagen -->
          {/* <div class="z-10">
            <img src={slide.image} alt="Estudiantes" class="max-h-[400px] w-auto" />
          </div> */}
          <!-- Imagen con fondo SVG detrás -->
          <div class="relative z-10">
            <!-- SVG decorativo detrás de la imagen -->
             <!-- SVG detrás de la imagen -->
            {/* <img src={decoration.src} alt="Decoración" class="absolute -z-10 top-0 left-0 w-full h-full object-contain opacity-80" /> */}
            <img
              src={decoration.src}
              alt="Decoración"
              class="absolute -z-10 top-0 left-0 w-full h-full object-contain opacity-80"
            />

            <img src={slide.image} alt="Estudiantes" class="max-h-[400px] w-auto relative" />
          </div>

        </div>
      ))}
    </div>
  </div>

    <!-- Dots -->
    <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2 z-20" id="dots">
    {slides.map((_, i) => (
        <button
        class="dot w-3 h-3 rounded-full bg-purple-300 hover:bg-purple-500 transition"
        data-index={i}
        ></button>
    ))}
    </div>
</div>

<script is:inline>
  let index = 0;
  const slidesEl = document.getElementById("slides");
  const dots = document.querySelectorAll(".dot");

  const goToSlide = (i) => {
    index = i;
    slidesEl.style.transform = `translateX(-${index * 100}%)`;
    updateDots();
  };

  const updateDots = () => {
    dots.forEach((dot, i) => {
      dot.classList.toggle("bg-purple-700", i === index);
      dot.classList.toggle("bg-purple-300", i !== index);
    });
  };

  // Agrega eventos a cada botón dot
  dots.forEach((dot, i) => {
    dot.addEventListener("click", () => goToSlide(i));
  });

  // Slide automático
  setInterval(() => {
    index = (index + 1) % 3;
    slidesEl.style.transform = `translateX(-${index * 100}%)`;
    updateDots();
  }, 5000);

  updateDots();
</script>